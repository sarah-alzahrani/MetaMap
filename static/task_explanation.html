<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Task Explanation</title>
  <style>
    #con {
      max-width: 720px;
      margin: 0 auto;
    }
    #con2 {
      max-width: 720px;
      margin: 0 auto;
    }
    h2 {
      padding-top: 30px;
    }
    #logo {
      float: right;
      margin: 5px;
    }
    #par {
      text-align: justify;
      font-size: 20px;
    }
    #footer {
      text-align: center;
    }
    .bn49 {
      border: 0;
      text-align: center;
      display: inline-block;
      padding: 14px;
      width: 30%;
      margin: 10px;
      color: #000000;
      background-color: #87CEEB;
      border-radius: 10px;
      font-family: "proxima-nova-soft", sans-serif;
      font-weight: 600;
      text-decoration: none;
      transition: box-shadow 200ms ease-out;
    }
    #overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 1000;
    }
    #consent-form {
      background-color: white;
      padding: 20px;
      width: 50%;
      max-height: 80%;
      overflow: auto;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border-radius: 10px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      border: 1px solid #000;
    }
    th, td {
      text-align: left;
      padding: 8px;
      border: 1px solid #000;
    }
  </style>
</head>
<body>
  <div id="con">
    <img id="banner" src="/static/banner.jpg" height="200" width="750">
    <div class="square">
            <p id="par">
              <h2>Welcome to the Usability Experiment for the MetaSEMAP Tool</h2>
            <p>
                This page outlines the tasks you will perform during the experiment. The tasks are designed to annotate a mapping file with metadata based on a given scenario related to the <strong>Virtual Record Treasury of Ireland</strong>. Completing the tasks, along with a subsequent survey, is expected to take approximately 20 minutes.
            </p>

            <p>
                You will need to download a mapping file and read a straightforward scenario outlining the project that led to its creation. The necessary metadata for annotating the mapping file can be extracted directly from the scenario.
            </p>

            <p>
                <strong>For more information about the Virtual Record Treasury of Ireland, please visit the <a href="https://virtualtreasury.ie" target="_blank">Virtual Record Treasury of Ireland</a>.</strong> 
            </p>

      <h3>Instructions:</h3>
      <table>
        <tr>
          <td>
            <ol>
              <li>
                <h4>Read Task Explanation and the Files:</h4>
                <ul>
                  <li>Read the task explanation on this page.</li>
                  <li id="download-link">Download the provided mapping file.</li>
                  <li id="scenario-text">Review the scenario to understand the mapping project context.</li>
                  <li>Open the task steps in a new window/tab for reference <span style="text-decoration: underline; color: blue; cursor: pointer;" onclick="openInNewTab()">Open in New Tab</span></li>
                </ul>
              </li>
              <li>
                <h4>Proceed to Upload Mapping Page:</h4>
                <ul>
                  <li>After downloading the mapping file and opening the task steps, scroll down to the end of this page and press the "Proceed" button.</li>
                  <li>You will be redirected to the consent form and then the Upload Mapping page.</li>
                </ul>
              </li>
              <li>
                <h4>Upload Mapping File:</h4>
                <ul>
                  <li>Upload the provided mapping file to the page.</li>
                  <li>Press the "Upload" button to proceed.</li>
                </ul>
              </li>
              <li>
                <h4>Review Uploaded Mapping:</h4>
                <ul>
                  <li>A new page will display the uploaded file's content and basic metadata, such as file name and format.</li>
                  <li>Click "Add Metadata" to proceed.</li>
                </ul>
              </li>
              <li>
                <h4>Fill in Metadata Fields:</h4>
                <ul>
                  <li>Another new page will open, displaying the full metadata model fields.</li>
                  <li>Read the provided scenario and fill in the metadata fields with appropriate data.</li>
                  <li>Fields marked as gray are not required for this part of the experiment </li>
                  <li>Click "Submit" when finished.</li>
                </ul>
              </li>
              <li>
                <h4>Review Metadata:</h4>
                <ul>
                  <li>The filled metadata will be shown for review.</li>
                  <li>Choose the metadata representation and proceed to the final step.</li>
                </ul>
              </li>
              <li>
                <h4>View or Download Annotation File:</h4>
                <ul>
                  <li>A page will display the resulting annotation file.</li>
                  <li>Please view or download the resulting file to review the annotated mapping, which you will need to complete the questionnaire. .</li>
                </ul>
              </li>
              <li>
                <h4>Complete Questionnaire:</h4>
                <ul>
                  <li>Finally, complete the questionnaire form displayed.</li>
                  <li>You will be done once you have successfully completed the questionnaire.</li>
                </ul>
              </li>
            </ol>
            <p style="color: darkred;">Your participation is highly valued, and we sincerely appreciate your input. If you have any questions, feel free to send an email to <a href="mailto:salzahra@tcd.ie" style="color: blue; text-decoration: none;">salzahra@tcd.ie</a>.</p>
          </td>
        </tr>
      </table>
      <button id="proceedButton" class="bn49" onclick="showConsentForm()">Proceed</button>
    </div>
  </div>

  <div id="overlay">
    <div id="consent-form">
        <h2>Consent Form</h2>
                <p>
                    You are invited to participate in a study on Metadata for semantic/data mappings. This research aims to annotate mappings with a set of metadata fields to enhance their discovery, reusability, and quality assessment. As part of the Ph.D. in Computer Science requirements at Trinity College Dublin, this study is being conducted.
                </p>
                <p>
                    <h5>PROCEDURES OF THIS STUDY: </h5>
                    Participants with varying levels of experience in semantic and data mapping are welcome. In this experiment, participants will be asked to provide their consent before beginning the annotation process. They will receive detailed guidance and scenarios on how to upload mapping files and annotate them with a set of metadata fields. Subsequently, participants will complete a questionnaire to evaluate the usability of the system. They will also be asked to provide feedback on the tool's interface design and functionality. The research will involve storing and processing the annotated mappings and questionnaire results for a period of two years, after which they will be deleted to preserve research integrity.
                </p>
                <p>
                    <h5>ANONYMITY: </h5>Participant anonymity will be rigorously maintained throughout this experiment. Responses collected will be anonymized and analyzed solely for the refinement and improvement of the MetaMap tool. It is important to note that collected responses will not be linked to any individual participant. Research findings will be disseminated through academic journals, conference proceedings, and within a Ph.D. dissertation at Trinity College Dublin.
                </p>
                <p>
                    𝐏𝐥𝐞𝐚𝐬𝐞 𝐫𝐞𝐯𝐢𝐞𝐰 𝐭𝐡𝐞 𝐢𝐧𝐟𝐨𝐫𝐦𝐚𝐭𝐢𝐨𝐧 𝐬𝐡𝐞𝐞t 𝐟𝐨𝐫 𝐟𝐮𝐫𝐭𝐡𝐞𝐫 𝐝𝐞𝐭𝐚𝐢𝐥𝐬 𝐫𝐞𝐠𝐚𝐫𝐝𝐢𝐧𝐠 𝐭𝐡𝐞 𝐬𝐭𝐮𝐝𝐲 𝐰𝐡𝐢𝐜𝐡 𝐰𝐢𝐥𝐥 𝐚𝐬𝐬𝐢𝐬𝐭 𝐲𝐨𝐮 𝐢𝐧 𝐦𝐚𝐤𝐢𝐧𝐠 𝐚𝐧 𝐢𝐧𝐟𝐨𝐫𝐦𝐞𝐝 𝐝𝐞𝐜𝐢𝐬𝐢𝐨𝐧 𝐨𝐧 𝐰𝐡𝐞𝐭𝐡𝐞𝐫 𝐭𝐨 𝐩𝐚𝐫𝐭𝐢𝐜𝐢𝐩𝐚𝐭𝐞.
                </p>
                <p>
                    DECLARATION:
                    <ul>
                        <li>I am 18 years or older and am competent to provide consent.</li>
                        <li>I have read, or had read to me, a document providing information about this research and this consent form. I have had the opportunity to ask questions and all my questions have been answered to my satisfaction and understand the description of the research that is being provided to me.</li>
                        <li>I agree that my data is used for scientific purposes and I have no objection that my data is published in scientific publications in a way that does not reveal my identity.</li>
                        <li>I understand that if I make illicit activities known, these will be reported to appropriate authorities.</li>
                        <li>I understand that I may refuse to answer any question and that I may withdraw at any time without penalty.</li>
                        <li>I understand that my data has been fully anonymized so that it can no longer be attributed to me, then it will no longer be possible to withdraw.</li>
                        <li>I freely and voluntarily agree to be part of this research study, though without prejudice to my legal and ethical rights.</li>
                        <li>I understand that my participation is fully anonymous and that no personal details about me will be recorded.</li>
                        <li>I understand that personal information about me, including the transfer of this personal information about me outside of the EU, will be protected in accordance with the General Data Protection Regulation.</li>
                        <li>I have received a copy of this agreement.</li>
                    </ul>
                </p>
                <p>
                    Please indicate your consent before proceeding:
                    <br>
                    <br>
                    <input type="checkbox" id="consent-checkbox"> I consent to participate in this study, and consent to the data processing necessary to enable my participation and to achieve the research goals of this study.
                    <br>
                </p>
                <button onclick="acceptConsent()">Accept</button>
                <button onclick="hideConsentForm()">Cancel</button>
            </div>
  
  </div>

  <div id="con2">
    <div id="footer">
      <p>Copyright 2024, Sarah Alzahrani salzahra@tcd.ie</p>
    </div>
    <img id="bottom" src="/static/bottom.png" height="100" width="750">
  </div>

  <script>
    function openInNewTab() {
      const url = new URL(window.location.href);
      url.searchParams.set('newTab', 'true');
      window.open(url.toString(), '_blank');
    }

    function showConsentForm() {
      document.getElementById("overlay").style.display = "block";
    }

    function hideConsentForm() {
      document.getElementById("overlay").style.display = "none";
    }

    function acceptConsent() {
      if (document.getElementById("consent-checkbox").checked) {
        window.location.href = "/static/upload.html";
      } else {
        alert("Please accept the terms and conditions.");
      }
    }

    const scenarios = [
      { 
        scenario: 'Scenario 1: Uplift Mapping in the Virtual Record Treasury of Ireland Project',
        file: '/static/uplift_mapping.ttl',
        fileName: 'uplift_mapping.ttl'
      },
      { 
        scenario: 'Scenario 2: Ontologies Alignment in the Virtual Record Treasury of Ireland Project',
        file: '/static/ontology_alignment.ttl',
        fileName: 'ontology_alignment.ttl'
      },
      { 
        scenario: 'Scenario 3: Interlinking in the Virtual Record Treasury of Ireland Project',
        file: '/static/interlink_mapping.ttl',
        fileName: 'interlink_mapping.ttl'
      }
    ];

    function getRandomScenario() {
      return scenarios[Math.floor(Math.random() * scenarios.length)];
    }

    function displayScenario() {
      const selectedScenario = getRandomScenario();
      document.getElementById('scenario-text').innerHTML = `Review the scenario: <a href="/static/scenario.html?scenario=${scenarios.indexOf(selectedScenario)}" target="_blank">${selectedScenario.scenario}</a>`;
      document.getElementById('download-link').innerHTML = `Download the mapping file: <a href="${selectedScenario.file}" download="${selectedScenario.fileName}">Download Mapping File</a>`;
    }

    window.onload = function() {
      const urlParams = new URLSearchParams(window.location.search);
      if (urlParams.get('newTab')) {
        document.getElementById('proceedButton').style.display = 'none'; // Hide the Proceed button if newTab is true
      }
      displayScenario();
    };
  </script>
</body>
</html>
